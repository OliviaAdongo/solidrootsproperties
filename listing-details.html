<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Link of CSS files -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/css/flaticon.css" />
  <link rel="stylesheet" href="assets/css/remixicon.css" />
  <link rel="stylesheet" href="assets/css/owl.carousel.min.css" />
  <link rel="stylesheet" href="assets/css/jquery-ui-min.css" />
  <link rel="stylesheet" href="assets/css/odometer.min.css" />
  <link rel="stylesheet" href="assets/css/aos.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/responsive.css" />
  <link rel="stylesheet" href="assets/css/dark-theme.css" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

  <title>SolidRoots Properties</title>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
 
   

  <link rel="icon" type="image/png"
    href="assets/img/solidroots properties logo c3/solidroots properties logo c3-2.png" />
 
</head>
<body>
  
<div class="page-wrapper">
  <header class="header-wrap">
    <div class="container">
      <nav class="navbar navbar-expand-md navbar-light">
        <a class="navbar-brand" href="index.html">
          <img
            class="logo-light"
            src="assets/img/solidroots_properties_logo_c3-2-removebg-preview.png"
            alt="logo"
          />
          
        </a>
        <div
          class="collapse navbar-collapse main-menu-wrap"
          id="navbarSupportedContent"
        >
          <div class="menu-close d-lg-none">
            <a href="javascript:void(0)"> <i class="ri-close-line"></i></a>
          </div>
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a href="index.html" class="nav-link">Home</a>
            </li>
           
            <li class="nav-item">
              <a href="about.html" class="nav-link"> About Us </a>
            </li>
            <li class="nav-item">
              <a href="listings-two.html" class="nav-link"
                >Property Listings
              </a>
            </li>
            <li class="nav-item">
              <a href="services.html" class="nav-link">Services </a>
            </li>

            <li class="nav-item">
              <a href="blog.html" class="nav-link"> Insights </a>
            </li>
            <li class="nav-item">
              <a href="contact.html" class="nav-link">Contact Us</a>
            </li>
            <li class="nav-item d-lg-none">
              <div>
                <ul class="social-profile list-style style1">
                  <li>
                    <a
                      target="_blank"
                      href="https://www.facebook.com/profile.php?id=61568340275308&mibextid=ZbWKwL"
                    >
                      <i class="ri-facebook-fill"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      target="_blank"
                      href="https://x.com/SolidrootsP?t=i8EzncFp_L6AF3SPR-K4Fw&s=09"
                    >
                      <i class="ri-twitter-fill"></i>
                    </a>
                  </li>
                  <li>
                    <a target="_blank" href="https://instagram.com/">
                      <i class="ri-instagram-line"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      target="_blank"
                      href="https://www.linkedin.com/company/solidroots-properties/"
                    >
                      <i class="ri-linkedin-fill"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
          <div class="others-options md-none">
            <div class="header-btn">
              <div>
                <ul class="social-profile list-style style1">
                  <li>
                    <a
                      target="_blank"
                      href="https://www.facebook.com/profile.php?id=61568340275308&mibextid=ZbWKwL"
                    >
                      <i class="ri-facebook-fill"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      target="_blank"
                      href="https://x.com/SolidrootsP?t=i8EzncFp_L6AF3SPR-K4Fw&s=09"
                    >
                      <i class="ri-twitter-fill"></i>
                    </a>
                  </li>
                  <li>
                    <a target="_blank" href="https://instagram.com/">
                      <i class="ri-instagram-line"></i>
                    </a>
                  </li>
                  <li>
                    <a
                      target="_blank"
                      href="https://www.linkedin.com/company/solidroots-properties/"
                    >
                      <i class="ri-linkedin-fill"></i>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div class="mobile-bar-wrap">
        <div class="mobile-menu d-lg-none">
          <a href="javascript:void(0)"><i class="ri-menu-line"></i></a>
        </div>
      </div>
    </div>
  </header>
  <div class="content-wrapper">
    <!-- Breadcrumb Start -->
    <div class="breadcrumb-wrap bg-f br-2">
      <div class="container">
        <div class="breadcrumb-title">
          <h2>Listing</h2>
          <ul class="breadcrumb-menu list-style">
            <li><a href="listings-two.html"> Property Listings </a></li>
            <li>Listing Details</li>
          </ul>
        </div>
      </div>
    </div>
    <!-- Breadcrumb End -->
   

    <!-- /.container -->
  </div>
  <section class="property-wrap pt-100 pb-75">
    <div class="container mt-5">
      <h1>Property Details</h1>
  
      <div class="row">
        <div class="col-md-8">
          <!-- Property Location -->
          <h3>Location: <span id="property-location"></span></h3>
  
          <!-- Property Images -->
          <div id="property-images" class="mb-4">
            <!-- Images will be loaded here -->
          </div>
  
          <!-- Property Description -->
          <p><strong>Description:</strong> <span id="property-description"></span></p>
  
          <!-- Property Category -->
          <p><strong>Category:</strong> <span id="property-category"></span></p>
  
          <!-- Property Price -->
          <p><strong>Asking Price:</strong> <span id="property-price"></span></p>
  
          <!-- Property Status -->
          <p><strong>Status:</strong> <span id="property-status"></span></p>
  
          <!-- Property Agent -->
          <p><strong>Agent:</strong> <span id="property-agent"></span></p>
  
          <!-- Property Amenities -->
          <p><strong>Amenities:</strong> <span id="property-amenities"></span></p>
  
          <a href="listings-two.html" class="btn style2 mt-3">Back to Listings</a>
        </div>
      </div>
    </div>
  </section>
  
</div>


  <!-- Add Axios for API calls -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    const getPropertyDetails = async () => {
      const urlParams = new URLSearchParams(window.location.search);
      const propertyId = urlParams.get('id');
      let endpoint;

      // Determine the endpoint based on the property type
      const type = urlParams.get('type'); // Type should be passed as a query parameter (e.g., residential, commercial, land, retail)

      // Update endpoint to match the backend routing
      if (type === 'residential') {
        endpoint = `http://localhost:3000/api/residentialproperties/${propertyId}`;
      } else if (type === 'commercial') {
        endpoint = `http://localhost:3000/api/commercialproperties/${propertyId}`;
      } else if (type === 'land') {
        endpoint = `http://localhost:3000/api/lands/${propertyId}`;
      } else if (type === 'retail') {
        endpoint = `http://localhost:3000/api/retailproperties/${propertyId}`;
      } else {
        console.error('Invalid property type');
        return;
      }

      try {
        const response = await axios.get(endpoint);
        const property = response.data;

        // Display property details
        document.getElementById('property-location').innerText = property.location;
        document.getElementById('property-description').innerText = property.description;
        document.getElementById('property-category').innerText = property.category;
        document.getElementById('property-price').innerText = property.price;
        document.getElementById('property-status').innerText = property.status;
        document.getElementById('property-agent').innerText = property.agent; // Display agent name

        // Check if amenities exist and display
        if (property.amenities && property.amenities.length > 0) {
          document.getElementById('property-amenities').innerText = property.amenities.join(', ');
        } else {
          document.getElementById('property-amenities').innerText = 'No amenities available';
        }

        // Display images
        if (property.images && property.images.length > 0) {
          document.getElementById('property-images').innerHTML = property.images.map(image => `
            <img src="uploads/${image}" alt="Property Image" class="img-fluid mb-3" />
          `).join('');
        } else {
          document.getElementById('property-images').innerText = 'No images available';
        }

      } catch (error) {
        console.error('Error fetching property details:', error);
      }
    };

    window.onload = getPropertyDetails;
  </script>

  <!-- Add Bootstrap JS (optional) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
